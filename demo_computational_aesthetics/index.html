<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XUEMU_LAB // COMPUTATIONAL AESTHETICS ENGINE</title>
    <style>
        :root {
            --bg-color: #0a0a0a;
            --text-color: #e0e0e0;
            --accent-color: #00ffcc; /* Cyan/Teal for tech feel */
            --secondary-accent: #ff0055; /* Red/Pink for alerts/emotion */
            --panel-bg: rgba(20, 20, 20, 0.8);
            --border-color: #333;
        }

        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            font-family: 'Courier New', Courier, monospace; /* Tech/Code font */
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* Scanline effect */
        body::after {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 100;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            border-bottom: 1px solid var(--border-color);
            background: var(--panel-bg);
            z-index: 10;
        }

        h1 {
            font-size: 1.2rem;
            letter-spacing: 2px;
            margin: 0;
            text-transform: uppercase;
        }
        
        .status {
            font-size: 0.8rem;
            color: var(--accent-color);
        }

        .main-container {
            display: flex;
            flex: 1;
            position: relative;
        }

        /* Left Control Panel */
        .control-panel {
            width: 300px;
            padding: 30px;
            border-right: 1px solid var(--border-color);
            background: var(--panel-bg);
            display: flex;
            flex-direction: column;
            gap: 30px;
            z-index: 10;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        label {
            font-size: 0.8rem;
            color: #888;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* The Slider */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 10px;
            border-radius: 0;
            background: var(--accent-color);
            cursor: pointer;
            margin-top: -8px;
            box-shadow: 0 0 10px var(--accent-color);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #333;
        }

        .parameter-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent-color);
        }

        .description-box {
            margin-top: auto;
            border: 1px solid var(--border-color);
            padding: 15px;
            font-size: 0.8rem;
            line-height: 1.5;
            color: #aaa;
            background: rgba(0,0,0,0.3);
        }

        /* Right Visual Area */
        .visual-stage {
            flex: 1;
            position: relative;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .image-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* Use contain if you want to see full image */
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            filter: grayscale(20%) contrast(110%);
        }

        .image-layer.active {
            opacity: 1;
        }

        /* Overlays */
        .overlay-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(var(--border-color) 1px, transparent 1px),
                linear-gradient(90deg, var(--border-color) 1px, transparent 1px);
            background-size: 100px 100px;
            background-position: center;
            opacity: 0.1;
            pointer-events: none;
        }

        .terminal-log {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 300px;
            height: 150px;
            overflow: hidden;
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.5);
            pointer-events: none;
            text-align: right;
        }
        
        .log-entry {
            margin-bottom: 4px;
        }

        /* Mobile specific */
        @media (max-width: 768px) {
            .main-container {
                flex-direction: column-reverse;
            }
            .control-panel {
                width: 100%;
                height: 200px;
                border-right: none;
                border-top: 1px solid var(--border-color);
                box-sizing: border-box;
            }
        }
    </style>
</head>
<body>

    <header>
        <h1>Xuemu_Lab <span style="font-size:0.8em; color:#666;">// v1.02 BETA</span></h1>
        <div class="status">SYSTEM: ONLINE</div>
    </header>

    <div class="main-container">
        <!-- Sidebar Controls -->
        <div class="control-panel">
            <div class="control-group">
                <label>Target Aesthetic (Subjectivity)</label>
                <input type="range" id="styleSlider" min="0" max="100" value="50" step="1">
                <div class="parameter-display" id="styleValue">HYBRID</div>
            </div>

            <div class="control-group">
                <label>Computation Metrics</label>
                <div style="display:flex; justify-content:space-between; font-size:0.7rem; color:#666;">
                    <span>Rationality</span>
                    <span id="metric-rat">50%</span>
                </div>
                <div style="height:2px; background:#333; margin-bottom:5px;">
                    <div id="bar-rat" style="width:50%; height:100%; background:cyan;"></div>
                </div>

                <div style="display:flex; justify-content:space-between; font-size:0.7rem; color:#666;">
                    <span>Emotionality</span>
                    <span id="metric-emo">50%</span>
                </div>
                <div style="height:2px; background:#333;">
                    <div id="bar-emo" style="width:50%; height:100%; background:magenta;"></div>
                </div>
            </div>

            <div class="description-box" id="descBox">
                Initializing core logic...<br>
                Waiting for user input.
            </div>
        </div>

        <!-- Main Display -->
        <div class="visual-stage">
            <div class="overlay-grid"></div>
            
            <!-- Placeholder Images - User needs to replace these -->
            <!-- We use PLACEHOLDERS if local files don't exist. 
                 The Script handles switching opacity. -->
            
            <img src="1.png" class="image-layer active" id="img-rational" alt="Rational Style" onerror="this.src='https://placehold.co/1920x1080/1a1a1a/FFF?text=STYLE+A:+RATIONAL+(Blueprint)'">
            <img src="2.png" class="image-layer" id="img-future" alt="Future Style" onerror="this.src='https://placehold.co/1920x1080/1a1a1a/00FFFF?text=STYLE+B:+ALGORITHM+(Crystal)'">
            <img src="3.png" class="image-layer" id="img-emotion" alt="Emotional Style" onerror="this.src='https://placehold.co/1920x1080/1a1a1a/FF0055?text=STYLE+C:+EMOTION+(Flow)'">

            <div class="terminal-log" id="terminalLog"></div>
        </div>
    </div>

    <script>
        const slider = document.getElementById('styleSlider');
        const styleValue = document.getElementById('styleValue');
        const descBox = document.getElementById('descBox');
        
        const imgRat = document.getElementById('img-rational');
        const imgFut = document.getElementById('img-future');
        const imgEmo = document.getElementById('img-emotion');

        const barRat = document.getElementById('bar-rat');
        const barEmo = document.getElementById('bar-emo');
        const metricRat = document.getElementById('metric-rat');
        const metricEmo = document.getElementById('metric-emo');

        const terminalLog = document.getElementById('terminalLog');

        // Descriptions for each phase
        const descriptions = {
            rational: "MODE: RATIONAL<br><br>Strict adherence to topological data. High structural integrity. Minimal artistic deviation.<br>Best for: Technical Reviews, Engineering Handoff.",
            hybrid: "MODE: ALGORITHMIC HYBRID<br><br>Balanced weight between logic and aesthetics. Procedural materials active.<br>Best for: Concept Verification, Digital Twins.",
            emotional: "MODE: EMOTIONAL FLOW<br><br>Prioritizing visual impact and fluid dynamics. Physics engine relaxed.<br>Best for: Marketing, Brand Storytelling, High-Level Pitches."
        };

        function addLog(text) {
            const div = document.createElement('div');
            div.className = 'log-entry';
            div.innerText = `> ${text}`;
            terminalLog.appendChild(div);
            if(terminalLog.children.length > 8) {
                terminalLog.removeChild(terminalLog.firstChild);
            }
        }

        // Fake boot sequence
        setTimeout(() => addLog('System Initialized'), 500);
        setTimeout(() => addLog('Loading Aesthetic Kernels...'), 1000);
        setTimeout(() => addLog('Ready.'), 1500);

        slider.addEventListener('input', (e) => {
            const val = parseInt(e.target.value);
            
            // Logic to fade images based on slider value (0-100)
            // 0 = Rational, 50 = Future, 100 = Emotion
            
            // Metrics
            let rat = 100 - val;
            let emo = val;
            barRat.style.width = `${rat}%`;
            metricRat.innerText = `${rat}%`;
            barEmo.style.width = `${emo}%`;
            metricEmo.innerText = `${emo}%`;

            // Image Switching Logic (Simple 3-stage switch for clarity, or Crossfade)
            // Let's do a smooth opacity blend.
            
            // Image 1 (Rational): 0 to 50 (fades out)
            let op1 = 0;
            if (val <= 50) {
                op1 = 1 - (val / 50);
            }
            
            // Image 2 (Future): 0 to 50 (fades in), 50 to 100 (fades out)
            let op2 = 0;
            if (val <= 50) {
                op2 = val / 50;
            } else {
                op2 = 1 - ((val - 50) / 50);
            }

            // Image 3 (Emotional): 50 to 100 (fades in)
            let op3 = 0;
            if (val > 50) {
                op3 = (val - 50) / 50;
            }

            // Update Opacities
            imgRat.style.opacity = op1; // Use max to ensure always one is visible? No, crossfade logic above works for A->B->C
            imgFut.style.opacity = op2;
            imgEmo.style.opacity = op3;
            
            // Ensure at least one is fully visible at key points?
            // The math above: at 0 -> op1=1, op2=0, op3=0.
            // At 25 -> op1=0.5, op2=0.5.
            // At 50 -> op1=0, op2=1, op3=0.
            // At 75 -> op2=0.5, op3=0.5.
            // At 100 -> op3=1.
            // Perfect.

            // Text Updates
            if (val < 33) {
                styleValue.innerText = "RATIONAL";
                styleValue.style.color = "#00ccff"; // Blue
                if(descBox.innerHTML !== descriptions.rational) descBox.innerHTML = descriptions.rational;
            } else if (val < 66) {
                styleValue.innerText = "COMPUTATIONAL";
                styleValue.style.color = "#00ffcc"; // Teal
                if(descBox.innerHTML !== descriptions.hybrid) descBox.innerHTML = descriptions.hybrid;
            } else {
                styleValue.innerText = "EMOTIONAL";
                styleValue.style.color = "#ff0055"; // Pink
                if(descBox.innerHTML !== descriptions.emotional) descBox.innerHTML = descriptions.emotional;
            }

            // Random Log
            if(Math.random() > 0.8) {
                const logs = ["Recalculating normals...", "Adjusting subsurface scattering...", "Smoothing spline curves...", "Optimizing topology...", "Rendering preview..."];
                addLog(logs[Math.floor(Math.random() * logs.length)]);
            }
        });
        
        // Init
        slider.dispatchEvent(new Event('input'));

    </script>
</body>
</html>